/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var l=Object.prototype.hasOwnProperty;var g=(s,t)=>{for(var e in t)c(s,e,{get:t[e],enumerable:!0})},m=(s,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of u(t))!l.call(s,n)&&n!==e&&c(s,n,{get:()=>t[n],enumerable:!(r=p(t,n))||r.enumerable});return s};var f=s=>m(c({},"__esModule",{value:!0}),s);var h={};g(h,{default:()=>a});module.exports=f(h);var i=require("obsidian"),a=class extends i.Plugin{async onload(){console.log("Time Bullet plugin loaded"),this.registerDomEvent(document,"keydown",t=>{if(t.key==="Enter"&&!t.shiftKey&&!t.ctrlKey&&!t.altKey){let e=this.app.workspace.getActiveViewOfType(i.MarkdownView);if(e){let r=e.editor;this.handleEnterInEditor(r,t)}}if(t.key===" "){let e=this.app.workspace.getActiveViewOfType(i.MarkdownView);if(e){let r=e.editor;this.handleSpaceInEditor(r,t)}}})}handleSpaceInEditor(t,e){let n=t.getCursor().line,o=t.getLine(n);o.startsWith("-[t]")&&(t.setLine(n,`- [${this.generateTimestamp()}] ${o.slice(4)}`),t.setCursor({line:n,ch:10}),e.preventDefault())}handleEnterInEditor(t,e){let n=t.getCursor().line;if(n>0){let o=t.getLine(n-1);if(/^- \[\d{2}:\d{2}\]/.test(o)){let d=t.getLine(n);t.setLine(n,`- [${this.generateTimestamp()}] ${d.slice(2)}`),t.setCursor({line:n,ch:10}),e.preventDefault()}}}generateTimestamp(){let t=new Date,e=t.getHours().toString().padStart(2,"0"),r=t.getMinutes().toString().padStart(2,"0");return`${e}:${r}`}};

/* nosourcemap */