/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Dt=Object.create;var R=Object.defineProperty;var St=Object.getOwnPropertyDescriptor;var Tt=Object.getOwnPropertyNames;var wt=Object.getPrototypeOf,Yt=Object.prototype.hasOwnProperty;var at=($,d)=>()=>(d||$((d={exports:{}}).exports,d),d.exports),bt=($,d)=>{for(var u in d)R($,u,{get:d[u],enumerable:!0})},gt=($,d,u,p)=>{if(d&&typeof d=="object"||typeof d=="function")for(let f of Tt(d))!Yt.call($,f)&&f!==u&&R($,f,{get:()=>d[f],enumerable:!(p=St(d,f))||p.enumerable});return $};var ot=($,d,u)=>(u=$!=null?Dt(wt($)):{},gt(d||!$||!$.__esModule?R(u,"default",{value:$,enumerable:!0}):u,$)),Lt=$=>gt(R({},"__esModule",{value:!0}),$);var $t=at((ut,ct)=>{(function($,d){typeof ut=="object"&&typeof ct!="undefined"?ct.exports=d():typeof define=="function"&&define.amd?define(d):($=typeof globalThis!="undefined"?globalThis:$||self).dayjs=d()})(ut,function(){"use strict";var $=1e3,d=6e4,u=36e5,p="millisecond",f="second",M="minute",h="hour",L="day",D="week",Y="month",B="quarter",U="year",j="date",c="Invalid Date",r=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var e=["th","st","nd","rd"],t=s%100;return"["+s+(e[(t-20)%10]||e[t]||e[0])+"]"}},v=function(s,e,t){var i=String(s);return!i||i.length>=e?s:""+Array(e+1-i.length).join(t)+s},F={s:v,z:function(s){var e=-s.utcOffset(),t=Math.abs(e),i=Math.floor(t/60),n=t%60;return(e<=0?"+":"-")+v(i,2,"0")+":"+v(n,2,"0")},m:function s(e,t){if(e.date()<t.date())return-s(t,e);var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,Y),a=t-n<0,o=e.clone().add(i+(a?-1:1),Y);return+(-(i+(t-n)/(a?n-o:o-n))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:Y,y:U,w:D,d:L,D:j,h,m:M,s:f,ms:p,Q:B}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},b="en",k={};k[b]=y;var A="$isDayjsObject",_=function(s){return s instanceof H||!(!s||!s[A])},C=function s(e,t,i){var n;if(!e)return b;if(typeof e=="string"){var a=e.toLowerCase();k[a]&&(n=a),t&&(k[a]=t,n=a);var o=e.split("-");if(!n&&o.length>1)return s(o[0])}else{var l=e.name;k[l]=e,n=l}return!i&&n&&(b=n),n||!i&&b},S=function(s,e){if(_(s))return s.clone();var t=typeof e=="object"?e:{};return t.date=s,t.args=arguments,new H(t)},m=F;m.l=C,m.i=_,m.w=function(s,e){return S(s,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var H=function(){function s(t){this.$L=C(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[A]=!0}var e=s.prototype;return e.parse=function(t){this.$d=function(i){var n=i.date,a=i.utc;if(n===null)return new Date(NaN);if(m.u(n))return new Date;if(n instanceof Date)return new Date(n);if(typeof n=="string"&&!/Z$/i.test(n)){var o=n.match(r);if(o){var l=o[2]-1||0,T=(o[7]||"0").substring(0,3);return a?new Date(Date.UTC(o[1],l,o[3]||1,o[4]||0,o[5]||0,o[6]||0,T)):new Date(o[1],l,o[3]||1,o[4]||0,o[5]||0,o[6]||0,T)}}return new Date(n)}(t),this.init()},e.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},e.$utils=function(){return m},e.isValid=function(){return this.$d.toString()!==c},e.isSame=function(t,i){var n=S(t);return this.startOf(i)<=n&&n<=this.endOf(i)},e.isAfter=function(t,i){return S(t)<this.startOf(i)},e.isBefore=function(t,i){return this.endOf(i)<S(t)},e.$g=function(t,i,n){return m.u(t)?this[i]:this.set(n,t)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(t,i){var n=this,a=!!m.u(i)||i,o=m.p(t),l=function(W,x){var I=m.w(n.$u?Date.UTC(n.$y,x,W):new Date(n.$y,x,W),n);return a?I:I.endOf(L)},T=function(W,x){return m.w(n.toDate()[W].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(x)),n)},w=this.$W,O=this.$M,P=this.$D,z="set"+(this.$u?"UTC":"");switch(o){case U:return a?l(1,0):l(31,11);case Y:return a?l(1,O):l(0,O+1);case D:var Z=this.$locale().weekStart||0,K=(w<Z?w+7:w)-Z;return l(a?P-K:P+(6-K),O);case L:case j:return T(z+"Hours",0);case h:return T(z+"Minutes",1);case M:return T(z+"Seconds",2);case f:return T(z+"Milliseconds",3);default:return this.clone()}},e.endOf=function(t){return this.startOf(t,!1)},e.$set=function(t,i){var n,a=m.p(t),o="set"+(this.$u?"UTC":""),l=(n={},n[L]=o+"Date",n[j]=o+"Date",n[Y]=o+"Month",n[U]=o+"FullYear",n[h]=o+"Hours",n[M]=o+"Minutes",n[f]=o+"Seconds",n[p]=o+"Milliseconds",n)[a],T=a===L?this.$D+(i-this.$W):i;if(a===Y||a===U){var w=this.clone().set(j,1);w.$d[l](T),w.init(),this.$d=w.set(j,Math.min(this.$D,w.daysInMonth())).$d}else l&&this.$d[l](T);return this.init(),this},e.set=function(t,i){return this.clone().$set(t,i)},e.get=function(t){return this[m.p(t)]()},e.add=function(t,i){var n,a=this;t=Number(t);var o=m.p(i),l=function(O){var P=S(a);return m.w(P.date(P.date()+Math.round(O*t)),a)};if(o===Y)return this.set(Y,this.$M+t);if(o===U)return this.set(U,this.$y+t);if(o===L)return l(1);if(o===D)return l(7);var T=(n={},n[M]=d,n[h]=u,n[f]=$,n)[o]||1,w=this.$d.getTime()+t*T;return m.w(w,this)},e.subtract=function(t,i){return this.add(-1*t,i)},e.format=function(t){var i=this,n=this.$locale();if(!this.isValid())return n.invalidDate||c;var a=t||"YYYY-MM-DDTHH:mm:ssZ",o=m.z(this),l=this.$H,T=this.$m,w=this.$M,O=n.weekdays,P=n.months,z=n.meridiem,Z=function(x,I,V,N){return x&&(x[I]||x(i,a))||V[I].slice(0,N)},K=function(x){return m.s(l%12||12,x,"0")},W=z||function(x,I,V){var N=x<12?"AM":"PM";return V?N.toLowerCase():N};return a.replace(g,function(x,I){return I||function(V){switch(V){case"YY":return String(i.$y).slice(-2);case"YYYY":return m.s(i.$y,4,"0");case"M":return w+1;case"MM":return m.s(w+1,2,"0");case"MMM":return Z(n.monthsShort,w,P,3);case"MMMM":return Z(P,w);case"D":return i.$D;case"DD":return m.s(i.$D,2,"0");case"d":return String(i.$W);case"dd":return Z(n.weekdaysMin,i.$W,O,2);case"ddd":return Z(n.weekdaysShort,i.$W,O,3);case"dddd":return O[i.$W];case"H":return String(l);case"HH":return m.s(l,2,"0");case"h":return K(1);case"hh":return K(2);case"a":return W(l,T,!0);case"A":return W(l,T,!1);case"m":return String(T);case"mm":return m.s(T,2,"0");case"s":return String(i.$s);case"ss":return m.s(i.$s,2,"0");case"SSS":return m.s(i.$ms,3,"0");case"Z":return o}return null}(x)||o.replace(":","")})},e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},e.diff=function(t,i,n){var a,o=this,l=m.p(i),T=S(t),w=(T.utcOffset()-this.utcOffset())*d,O=this-T,P=function(){return m.m(o,T)};switch(l){case U:a=P()/12;break;case Y:a=P();break;case B:a=P()/3;break;case D:a=(O-w)/6048e5;break;case L:a=(O-w)/864e5;break;case h:a=O/u;break;case M:a=O/d;break;case f:a=O/$;break;default:a=O}return n?a:m.a(a)},e.daysInMonth=function(){return this.endOf(Y).$D},e.$locale=function(){return k[this.$L]},e.locale=function(t,i){if(!t)return this.$L;var n=this.clone(),a=C(t,i,!0);return a&&(n.$L=a),n},e.clone=function(){return m.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},s}(),E=H.prototype;return S.prototype=E,[["$ms",p],["$s",f],["$m",M],["$H",h],["$W",L],["$M",Y],["$y",U],["$D",j]].forEach(function(s){E[s[1]]=function(e){return this.$g(e,s[0],s[1])}}),S.extend=function(s,e){return s.$i||(s(e,H,S),s.$i=!0),S},S.locale=C,S.isDayjs=_,S.unix=function(s){return S(1e3*s)},S.en=k[b],S.Ls=k,S.p={},S})});var pt=at((ft,ht)=>{(function($,d){typeof ft=="object"&&typeof ht!="undefined"?ht.exports=d():typeof define=="function"&&define.amd?define(d):($=typeof globalThis!="undefined"?globalThis:$||self).dayjs_plugin_utc=d()})(ft,function(){"use strict";var $="minute",d=/[+-]\d\d(?::?\d\d)?/g,u=/([+-]|\d\d)/g;return function(p,f,M){var h=f.prototype;M.utc=function(c){var r={date:c,utc:!0,args:arguments};return new f(r)},h.utc=function(c){var r=M(this.toDate(),{locale:this.$L,utc:!0});return c?r.add(this.utcOffset(),$):r},h.local=function(){return M(this.toDate(),{locale:this.$L,utc:!1})};var L=h.parse;h.parse=function(c){c.utc&&(this.$u=!0),this.$utils().u(c.$offset)||(this.$offset=c.$offset),L.call(this,c)};var D=h.init;h.init=function(){if(this.$u){var c=this.$d;this.$y=c.getUTCFullYear(),this.$M=c.getUTCMonth(),this.$D=c.getUTCDate(),this.$W=c.getUTCDay(),this.$H=c.getUTCHours(),this.$m=c.getUTCMinutes(),this.$s=c.getUTCSeconds(),this.$ms=c.getUTCMilliseconds()}else D.call(this)};var Y=h.utcOffset;h.utcOffset=function(c,r){var g=this.$utils().u;if(g(c))return this.$u?0:g(this.$offset)?Y.call(this):this.$offset;if(typeof c=="string"&&(c=function(b){b===void 0&&(b="");var k=b.match(d);if(!k)return null;var A=(""+k[0]).match(u)||["-",0,0],_=A[0],C=60*+A[1]+ +A[2];return C===0?0:_==="+"?C:-C}(c),c===null))return this;var y=Math.abs(c)<=16?60*c:c,v=this;if(r)return v.$offset=y,v.$u=c===0,v;if(c!==0){var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(v=this.local().add(y+F,$)).$offset=y,v.$x.$localOffset=F}else v=this.utc();return v};var B=h.format;h.format=function(c){var r=c||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return B.call(this,r)},h.valueOf=function(){var c=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*c},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var U=h.toDate;h.toDate=function(c){return c==="s"&&this.$offset?M(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():U.call(this)};var j=h.diff;h.diff=function(c,r,g){if(c&&this.$u===c.$u)return j.call(this,c,r,g);var y=this.local(),v=M(c).local();return j.call(y,v,r,g)}}})});var vt=at((lt,dt)=>{(function($,d){typeof lt=="object"&&typeof dt!="undefined"?dt.exports=d():typeof define=="function"&&define.amd?define(d):($=typeof globalThis!="undefined"?globalThis:$||self).dayjs_plugin_customParseFormat=d()})(lt,function(){"use strict";var $={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},d=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,u=/\d/,p=/\d\d/,f=/\d\d?/,M=/\d*[^-_:/,()\s\d]+/,h={},L=function(r){return(r=+r)+(r>68?1900:2e3)},D=function(r){return function(g){this[r]=+g}},Y=[/[+-]\d\d:?(\d\d)?|Z/,function(r){(this.zone||(this.zone={})).offset=function(g){if(!g||g==="Z")return 0;var y=g.match(/([+-]|\d\d)/g),v=60*y[1]+(+y[2]||0);return v===0?0:y[0]==="+"?-v:v}(r)}],B=function(r){var g=h[r];return g&&(g.indexOf?g:g.s.concat(g.f))},U=function(r,g){var y,v=h.meridiem;if(v){for(var F=1;F<=24;F+=1)if(r.indexOf(v(F,0,g))>-1){y=F>12;break}}else y=r===(g?"pm":"PM");return y},j={A:[M,function(r){this.afternoon=U(r,!1)}],a:[M,function(r){this.afternoon=U(r,!0)}],Q:[u,function(r){this.month=3*(r-1)+1}],S:[u,function(r){this.milliseconds=100*+r}],SS:[p,function(r){this.milliseconds=10*+r}],SSS:[/\d{3}/,function(r){this.milliseconds=+r}],s:[f,D("seconds")],ss:[f,D("seconds")],m:[f,D("minutes")],mm:[f,D("minutes")],H:[f,D("hours")],h:[f,D("hours")],HH:[f,D("hours")],hh:[f,D("hours")],D:[f,D("day")],DD:[p,D("day")],Do:[M,function(r){var g=h.ordinal,y=r.match(/\d+/);if(this.day=y[0],g)for(var v=1;v<=31;v+=1)g(v).replace(/\[|\]/g,"")===r&&(this.day=v)}],w:[f,D("week")],ww:[p,D("week")],M:[f,D("month")],MM:[p,D("month")],MMM:[M,function(r){var g=B("months"),y=(B("monthsShort")||g.map(function(v){return v.slice(0,3)})).indexOf(r)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[M,function(r){var g=B("months").indexOf(r)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,D("year")],YY:[p,function(r){this.year=L(r)}],YYYY:[/\d{4}/,D("year")],Z:Y,ZZ:Y};function c(r){var g,y;g=r,y=h&&h.formats;for(var v=(r=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(S,m,H){var E=H&&H.toUpperCase();return m||y[H]||$[H]||y[E].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(s,e,t){return e||t.slice(1)})})).match(d),F=v.length,b=0;b<F;b+=1){var k=v[b],A=j[k],_=A&&A[0],C=A&&A[1];v[b]=C?{regex:_,parser:C}:k.replace(/^\[|\]$/g,"")}return function(S){for(var m={},H=0,E=0;H<F;H+=1){var s=v[H];if(typeof s=="string")E+=s.length;else{var e=s.regex,t=s.parser,i=S.slice(E),n=e.exec(i)[0];t.call(m,n),S=S.replace(n,"")}}return function(a){var o=a.afternoon;if(o!==void 0){var l=a.hours;o?l<12&&(a.hours+=12):l===12&&(a.hours=0),delete a.afternoon}}(m),m}}return function(r,g,y){y.p.customParseFormat=!0,r&&r.parseTwoDigitYear&&(L=r.parseTwoDigitYear);var v=g.prototype,F=v.parse;v.parse=function(b){var k=b.date,A=b.utc,_=b.args;this.$u=A;var C=_[1];if(typeof C=="string"){var S=_[2]===!0,m=_[3]===!0,H=S||m,E=_[2];m&&(E=_[2]),h=this.$locale(),!S&&E&&(h=y.Ls[E]),this.$d=function(i,n,a,o){try{if(["x","X"].indexOf(n)>-1)return new Date((n==="X"?1e3:1)*i);var l=c(n)(i),T=l.year,w=l.month,O=l.day,P=l.hours,z=l.minutes,Z=l.seconds,K=l.milliseconds,W=l.zone,x=l.week,I=new Date,V=O||(T||w?1:I.getDate()),N=T||I.getFullYear(),q=0;T&&!w||(q=w>0?w-1:I.getMonth());var G,nt=P||0,it=z||0,rt=Z||0,st=K||0;return W?new Date(Date.UTC(N,q,V,nt,it,rt,st+60*W.offset*1e3)):a?new Date(Date.UTC(N,q,V,nt,it,rt,st)):(G=new Date(N,q,V,nt,it,rt,st),x&&(G=o(G).week(x).toDate()),G)}catch(Ot){return new Date("")}}(k,C,A,y),this.init(),E&&E!==!0&&(this.$L=this.locale(E).$L),H&&k!=this.format(C)&&(this.$d=new Date("")),h={}}else if(C instanceof Array)for(var s=C.length,e=1;e<=s;e+=1){_[1]=C[e-1];var t=y.apply(this,_);if(t.isValid()){this.$d=t.$d,this.$L=t.$L,this.init();break}e===s&&(this.$d=new Date(""))}else F.call(this,b)}}})});var Ct={};bt(Ct,{DEFAULT_SETTINGS:()=>mt,default:()=>et});module.exports=Lt(Ct);var X=require("obsidian"),J=ot($t()),yt=ot(pt()),Mt=ot(vt());var Q=require("obsidian"),tt=class extends Q.PluginSettingTab{constructor(u,p){super(u,p);this.plugin=p}display(){let{containerEl:u}=this;u.empty(),new Q.Setting(u).setName("Time format").setDesc("See this list of available formats: https://day.js.org/docs/en/display/format").addText(p=>p.setPlaceholder("HH:mm").setValue(this.plugin.settings.timeStampFormat).onChange(async f=>{this.plugin.settings.timeStampFormat=f,await this.plugin.saveSettings()})),new Q.Setting(u).setName("Use UTC").setDesc("If not using UTC, your local time will be used.").addToggle(p=>{p.setValue(this.plugin.settings.isUTC).onChange(async f=>{this.plugin.settings.isUTC=f,await this.plugin.saveSettings()})})}};var mt={timeStampFormat:"HH:mm",isUTC:!0};J.default.extend(yt.default);J.default.extend(Mt.default);var et=class extends X.Plugin{constructor(){super(...arguments);this.timeBulletPattern="-[t]";this.invalidFormatFallbackText="invalid_format"}get timeStampFormat(){return this.settings.timeStampFormat||mt.timeStampFormat}get isUTC(){return this.settings.isUTC}async onload(){console.log("Time Bullet plugin loaded"),await this.loadSettings(),this.addSettingTab(new tt(this.app,this)),this.registerDomEvent(document,"keydown",u=>{if(u.key==="Enter"&&!u.shiftKey&&!u.ctrlKey&&!u.altKey){let p=this.app.workspace.getActiveViewOfType(X.MarkdownView);if(p){let f=p.editor;this.handleEnterInEditor(f,u)}}if(u.key===" "){let p=this.app.workspace.getActiveViewOfType(X.MarkdownView);if(p){let f=p.editor;this.handleSpaceInEditor(f,u)}}})}handleSpaceInEditor(u,p){let M=u.getCursor().line,h=u.getLine(M);if(h.startsWith(this.timeBulletPattern)){let L=`- [${this.generateTimestamp()}] `,D=`${L}${h.slice(this.timeBulletPattern.length)}`;u.setLine(M,D),u.setCursor({line:M,ch:L.length}),p.preventDefault()}}handleEnterInEditor(u,p){let f=u.getCursor(),M=f.line,h=f.ch;if(M>0){let L=u.getLine(M-1);if(this.doesLineStartWithTimeBullet(L)){let D=u.getLine(M),Y="-",B=`- [${this.generateTimestamp()}]`,U=D.replace(Y,B);u.setLine(M,U);let j=h+B.length-Y.length;u.setCursor({line:M,ch:j}),p.preventDefault()}}}doesLineStartWithTimeBullet(u){let p=u.trim().match(/^- \[([^\]]+)\]/);if(!p||!Array.isArray(p)||p.length<2)return!1;let[,f]=p;return(0,J.default)(f,this.timeStampFormat,!0).isValid()}generateTimestamp(){try{return this.isUTC?J.default.utc().format(this.timeStampFormat):(0,J.default)().format(this.timeStampFormat)}catch(u){return this.invalidFormatFallbackText}}async loadSettings(){this.settings=Object.assign({},mt,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};

/* nosourcemap */